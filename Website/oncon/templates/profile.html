<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>User Name</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="/static/css/style.css" rel="stylesheet" type="text/css" />
        <link href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css" />        
        <script src="/static/js/jquery-2.1.4.js" type="text/javascript"></script>
        <script src="/static/js/bootstrap.min.js" type="text/javascript"></script>
        <link rel="shortcut icon" href="">
        <script src="/static/js/login_edit.js" type="text/javascript"></script>
        <script type="text/javascript">
             function send(tr){
                var pos = $(tr).attr("id");
                var fname;
                var lname;
                var address;
                var city;
                var state;
                var pin;
                var country;

                    if (pos== "ok2"){
                    address=$("input[name=ok2]").val();}
                    
                    else if (pos== "ok3"){
                    city=$("input[name=ok3]").val();}
                    
                    else if (pos== "ok4"){
                    state=$("input[name=ok4]").val();}
                    
                    else if (pos== "ok5"){
                    pin=$("input[name=ok5]").val();}
                    
                    else if (pos== "ok6"){
                    country=$("input[name=ok6]").val();
                }
    $.ajax({
    type: "GET",
    url: "http://127.0.0.1:8000/user_profile/account/update",
    data: {address:address,city:city,pin:pin,country:country,state:state},
    dataType:"text",
    cache: false,
    async:false,
    success:  function(json){
        console.log(json);
        if (pos== "ok2"){
        $('#name2').text(json);}
                    
        else if (pos== "ok3"){
        $('#name3').text(json);}
                    
        else if (pos== "ok4"){
        $('#name4').text(json);}
                    
        else if (pos== "ok5"){
        $('#name5').text(json);}
                    
        else if (pos== "ok6"){
        $('#name6').text(json);
    }
         
    }
  });

}

 function sendProf(tr){
                var pos = $(tr).attr("id");
                var college;
                var biography;
                var skills;
                var tenth;
                var twelth;
                var course;
                if (pos== "ok00"){
                    college=$("input[name=ok00]").val();}
                    
                    else if (pos== "ok01"){
                    biography=$("input[name=ok01]").val();}

                    else if (pos== "ok02"){
                    skills=$("input[name=ok02]").val();}
                    
                    else if (pos== "ok03"){
                    tenth=$("input[name=ok03]").val();}
                    
                    else if (pos== "ok04"){
                    twelth=$("input[name=ok04]").val();}
                    
                    else if (pos== "ok05"){
                    course=$("input[name=ok05]").val();}
                    
    $.ajax({
    type: "GET",
    url: "http://127.0.0.1:8000/user_profile/profile/update",
    data: {college:college,biography:biography,skills:skills,tenth:tenth,twelth:twelth,course:course},
    dataType:"text",
    cache: false,
    async:false,
    success:  function(json){
        console.log(json);
       if (pos== "ok00"){
       $('#name00').text(json);}
                    
        else if (pos== "ok01"){
        $('#name01').text(json);}

        else if (pos== "ok02"){
        $('#name02').text(json);}
                    
        else if (pos== "ok03"){
        $('#name03').text(json);}
                    
        else if (pos== "ok04"){
        $('#name04').text(json);}
                    
        else if (pos== "ok05"){
        $('#name05').text(json);}
    }
         
  });

}
        </script>
    </head>
    <body>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">                    
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>                        
                    </button>
                    
                    <a class="navbar-brand" href="/">Collegize</a>                       
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li ><a href="/">Home</a></li>
                    <li><a href="/wall_of_fame/main_page/">Wall of Fame</a></li>
                    <li><a href="/question/main_page/">Post a Question</a></li>                     
                    <li><a href="/project/main_page/">Start a Project</a></li>
                    <li><a href="/workshop/main_page/">Start a workshop</a></li>                                        
                </ul>                
                <ul class="nav navbar-nav navbar-right">
                <li class="nav-un"><a href="#" ><h4>{{name}}</h4></a></li>                                                                
                <li class="dropdown ">
                        <a class="dropdown-toggle nav-un" data-toggle="dropdown" href="#">
                            <img src="/media/{{data3.image}}" class="img-circle " alt="name of user" width="45" height="45">
                            </a>
                        <ul class="dropdown-menu">
                          <li><a href="/user_profile/main_page">Settings</a></li>
                          <li><a href="/login/logout/">Log Out</a></li>                          
                        </ul>
                </li>
                </ul>                    
                </div>
                
            </div>
        </nav>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="panel panel-default ">
                        <div class="panel-body points">Skill Points : {{data3.skill}}</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="panel panel-default ">
                        <div class="panel-body points">Karma Points : {{data3.karma}}</div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3" >
                    
                    <img src="/media/{{data3.image}}" alt="profile pic" class="img-circle center-block" 
                         width="200" height="200">
                    <div class="carousel-caption">
                    <button type="button" class="btn bottom-right" title="Edit" data-toggle="modal" data-target="#myModal4">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                    </div>
                    <div class="modal fade" id="myModal4" role="dialog">
                        <div class="modal-dialog modal-sm">
                          <div class="modal-content">
                            <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                              <h4 class="modal-title text-center">Select the a profile picture from your system</h4>
                            </div>
                            <div class="modal-body">            
                               <form method="post" action="/user_profile/profile/upload_image/" enctype="multipart/form-data">
                                   {% csrf_token %}
                                   <input type="file" name="image"></input>
                                   <input type="submit" value="Submit"/>
                               </form>
                                
                            </div>

                            <div class="modal-footer">
                              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                          </div>
                        </div>
                      </div>
                </div>
                <div class="col-md-9">
                    <div class="well ">
                        <p><strong>Name:</strong> {{name}}</p>
                        <p id="name01">{{biography}}</p>

                    </div>
                </div>
            </div>
            <ul class="nav nav-tabs profile-tabs">
                
                <li class="active"><a data-toggle="tab" href="#menu1">ACCOUNT</a></li>
                <li><a data-toggle="tab" href="#menu2">PROFILE</a></li>
              </ul>

              <div class="tab-content">
                
                <div id="menu1" class="tab-pane fade in active">
                    
                  <div class="tabs-well">
                    <form class="form-inline">
                      <h3>ACCOUNT</h3>
                    </p>
                    <p><strong>Address : </strong><span id="name2">{{address}}</span>
                        <button id="btn2" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok2" id="name_edit2"><button id="ok2" onclick="send(this)" type="submit" class="btn hidden">ok</button>
                    </p>
                    <p><strong>City : </strong><span id="name3">{{city}}</span>
                        <button id="btn3" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok3" id="name_edit3"><button id="ok3" onclick="send(this)" type="submit" class="btn hidden">ok</button>
                    </p>
                    <p><strong>State : </strong><span id="name4">{{state}}</span>
                        <button id="btn4" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok4" id="name_edit4"><button id="ok4" onclick="send(this)" type="submit" class="btn hidden">ok</button>
                    </p>
                    <p><strong>PIN : </strong><span id="name5">{{pin}}</span>
                        <button id="btn5" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok5" id="name_edit5"><button id="ok5" onclick="send(this)" type="submit" class="btn hidden">ok</button>
                    </p>
                    <p><strong>Country : </strong><span id="name6">{{country}}</span>
                        <button id="btn6" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok6" id="name_edit6"><button id="ok6" onclick="send(this)" type="submit" class="btn hidden">ok</button>
                    </p>
                    

                    </form>
                  </div>
                </div>
                <div id="menu2" class="tab-pane fade">
                  
                  <div class="tabs-well">
                    <h3>PROFILE</h3>
                    <p><strong>College : </strong><span id="name00">{{college}}</span>
                        <button id="btn00" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok00" id="name_edit00"><button id="ok00" type="submit" onclick="sendProf(this)" class="btn hidden">ok</button>
                    </p>
                    <p><strong>Biography : </strong><span id="name01">{{biography}}</span>
                        <button id="btn01" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok01" id="name_edit01"><button id="ok01" type="submit" onclick="sendProf(this)" class="btn hidden">ok</button>
                    </p>
                    <p><strong>Skills : </strong><span id="name02">{{skills}}</span>
                        <button id="btn02" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok02" id="name_edit02"><button id="ok02" type="submit" onclick="sendProf(this)" class="btn hidden">ok</button>
                    </p>
                    <p><strong>10th marks : </strong><span id="name03">{{tenth}}</span>
                        <button id="btn03" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok03" id="name_edit03"><button id="ok03" type="submit" onclick="sendProf(this)" class="btn hidden">ok</button>
                    </p>
                    <p><strong>12th marks : </strong><span id="name04">{{twelth}}</span>
                        <button id="btn04" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok04" id="name_edit04"><button id="ok04" type="submit" onclick="sendProf(this)"  class="btn hidden">ok</button>
                    </p>
                    <p><strong>Course : </strong><span id="name05">{{course}}</span>
                        <button id="btn05" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span></button>
                        <input class="form-control hidden" name="ok05" id="name_edit05"><button id="ok05" type="submit" onclick="sendProf(this)" class="btn hidden">ok</button>
                    </p>
                 </div>
                </div>
                    
            </div>
        </div>
        
        <div class="container-fluid footer">
                
                <p class="text-primary">
                <a href="/AboutUs/aboutus/">About Us</a>                 
                <small>© 2016 COLLEGIZE</small> </p>
            </div>
    </body>
</html>
